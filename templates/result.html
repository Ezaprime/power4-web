{{define "result"}}
<!doctype html>
<html lang="fr">
<head>
  <meta charset="utf-8">
  <title>Power 4 – Résultat</title>
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <link rel="stylesheet" href="/static/style.css">
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;900&display=swap" rel="stylesheet">
</head>
<body>
  <div class="center-wrapper">
    <header class="app-header">
      <div class="brand"><div class="dot"></div><span>POWER 4</span></div>
      <nav class="nav">
        <form action="/" method="GET" style="display:inline">
          <button class="btn ghost" type="submit">🏠 Accueil</button>
        </form>
      </nav>
    </header>

    <div class="page result-page" id="view" data-view="result">
      {{if eq .Winner 3}}
        <h1>Match nul 🤝</h1>
      {{else if eq .Winner 1}}
        <h1>Victoire de {{.Player1}} 🎉</h1>
        <h2>Tié un Tigre</h2>
      {{else if eq .Winner 2}}
        <h1>Victoire de {{.Player2}} 🎉</h1>
        <h2>Tié un monstre</h2>
      {{else}}
        <h1>Partie terminée</h1>
      {{end}}
      
      <h2>Niveau : {{.Difficulty}} — Coups joués : {{.Moves}}</h2>

      <div class="board-wrap">
        <table class="board" aria-label="Plateau final" id="board">
          <tbody>
          {{range $r, $row := .Grid}}
            <tr>
              {{range $c, $val := $row}}
                <td>
                  <div class="cell {{if eq $val 1}}p1{{else if eq $val 2}}p2{{end}}"></div>
                </td>
              {{end}}
            </tr>
          {{end}}
          </tbody>
        </table>
      </div>

      <div class="actions">
  <form action="/reset" method="GET">
    <button class="btn" type="submit">🔁 Rejouer</button>
  </form>
  <form action="/reset" method="GET" style="display:inline">
    <button class="btn ghost" type="submit">🏠 Accueil</button>
  </form>
</div>

        </form>
      </div>
    </div>
  </div>
</body>
</html>
{{end}}
